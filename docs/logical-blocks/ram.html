
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Random Access Memory (RAM) &#8212; SAP-1 Processor Architecture  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Memory Address Register (MAR)" href="mar.html" />
    <link rel="prev" title="Arithmetic Logic Unit (ALU)" href="alu.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="random-access-memory-ram">
<h1>Random Access Memory (RAM)<a class="headerlink" href="#random-access-memory-ram" title="Permalink to this headline">¶</a></h1>
<p>The RAM module allows to store up to <strong>16 bytes</strong> of arbitrary data
and access it by addressing the byte number in any order (random) rather
that only one after the other (sequential).</p>
<p>The SAP-1 implements a
<a class="reference external" href="https://en.wikipedia.org/wiki/Von_Neumann_architecture">von Neumann architecture</a>
which means there is only a single memory for instructions and data, thus
both, the program and all data neccecary need to be stored in the
16 bytes of RAM.</p>
<div class="section" id="mode-of-operation">
<h2>Mode of Operation<a class="headerlink" href="#mode-of-operation" title="Permalink to this headline">¶</a></h2>
<p>The actual RAM storage is implemented using 2 seperate
<a class="reference external" href="http://ltodi.est.ips.pt/lab-dee-et/datasheets/TTL/74189.pdf">74LS189</a>
<em>64 bit RAM with tristate output</em> ICs (<span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_1}\)</span> and
<span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_2}\)</span>) which are organized as <span class="math notranslate nohighlight">\(16 x 4\)</span>
bit, thus each IC will be responsible for one nibble of the data byte.</p>
<p>For whatever reason, the 74LS189 chips have an inverted output, thus 2
additional <a class="reference external" href="http://www.ti.com/lit/ds/symlink/sn74ls04.pdf">SN74LS04</a>
<em>hex inverters</em> (<span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_4}\)</span> and
<span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_5}\)</span>) are used to flip the logic of the
output again.</p>
<p>To be able to visualise the RAM contents at any address without needing
to drive the databus, the same
<a class="reference external" href="http://www.ti.com/lit/ds/symlink/sn54ls245-sp.pdf">74LS245</a> buffer
that is used in the <a class="reference external" href="datareg.html">data registers</a> is inserted between
the RAM IC outputs and the databus lines.</p>
<p>The RAM Module needs to support 2 modes of operation which are selected
by the <span class="math notranslate nohighlight">\(P/R\)</span> signal which is generated by the
<a class="reference external" href="mar.html">Memory Address Register</a> module.</p>
<div class="section" id="program-mode">
<h3>Program Mode<a class="headerlink" href="#program-mode" title="Permalink to this headline">¶</a></h3>
<p>In <strong>program</strong> mode, bytes of data can be written to RAM by setting DIP
switches representing the 8-bit value.</p>
<p>The program mode is selected by clearing the <span class="math notranslate nohighlight">\(P/R\)</span> signal which
setups the 3 <a class="reference external" href="http://www.ti.com/lit/ds/symlink/sn54157.pdf">74LS157</a>
<em>quadruple 2-to-1 multiplexers</em> (<span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_{6-8}}\)</span>)
to select the A inputs and replicate their states on it’s outputs.</p>
<p><span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_{8}}\)</span> is only used to select a single data-line
which is connected to the <span class="math notranslate nohighlight">\(\overline{WE}\)</span> (write enable, active low)
pins of the register ICs.
Input 1A of this IC is connected to the tactile button <strong>Write Byte</strong> that
pulls the line low when pressed, thus writing the current inputs to the
selected RAM address.
The button presses are not debounced, since multiple writes of the same value
to the same address do not cause unwanted side-effects.</p>
</div>
<div class="section" id="run-mode">
<h3>Run Mode<a class="headerlink" href="#run-mode" title="Permalink to this headline">¶</a></h3>
<p>In <strong>run</strong> mode, the module read or write the databyte addressed by the
<strong>Memory Address Register (MAR)</strong> to the <strong>databus (DB)</strong>.</p>
<p>In run mode, the <span class="math notranslate nohighlight">\(P/R\)</span> signal is driven high, thus selecting the
B inputs of the multiplexers.
For <span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_{6}}\)</span> and <span class="math notranslate nohighlight">\(\mathrm{RAM\colon IC_{7}}\)</span>,
the B inputs are connected to the databus, thus pulling the
<span class="math notranslate nohighlight">\(\overline{\mathrm{WE}}\)</span> line low in run mode will write the current
byte on the DB into the selected RAM address.</p>
<p>The write line is set by NANDing the the  <span class="math notranslate nohighlight">\(\mathrm{LOAD}\)</span> and
<span class="math notranslate nohighlight">\(\mathrm{CLK}\)</span> signal thus the byte is written on a clock-edge and an
active <span class="math notranslate nohighlight">\(\mathrm{LOAD}\)</span> signal.</p>
<p>To only write the byte on the rising edge of the clock signal, the signal is
filtered by the <a class="reference external" href="https://en.wikipedia.org/wiki/High-pass_filter">RC high-pass</a>
built by <span class="math notranslate nohighlight">\(\mathrm{RAM\colon C_{10}}\)</span> and
<span class="math notranslate nohighlight">\(\mathrm{RAM\colon R_9}\)</span>.
This is neccesary to avoid writing the state at the very end of the clock
signal which could cause a race condition with whatever module is setting the
DB state.</p>
</div>
</div>
<div class="section" id="schematic">
<h2>Schematic<a class="headerlink" href="#schematic" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default">
<img alt="../_images/ram.png" src="../_images/ram.png" />
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">SAP-1 Processor Architecture</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../isa.html">Instruction Set Architecture (ISA)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../block-diagram.html">Hardware Blocks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="clk.html">Clock (CLK)</a></li>
<li class="toctree-l2"><a class="reference internal" href="datareg.html">Data Register A</a></li>
<li class="toctree-l2"><a class="reference internal" href="datareg.html">Data Register B</a></li>
<li class="toctree-l2"><a class="reference internal" href="datareg.html">Instruction Register</a></li>
<li class="toctree-l2"><a class="reference internal" href="alu.html">Arithmetic Logic Unit (ALU)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Random Access Memory (RAM)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mode-of-operation">Mode of Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#schematic">Schematic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mar.html">Memory Address Register (MAR)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pc.html">Program Counter (PC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="out.html">Output Display (OUT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="id.html">Instruction Decoder (ID)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sr.html">Status Register (SR)</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../block-diagram.html">Hardware Blocks</a><ul>
      <li>Previous: <a href="alu.html" title="previous chapter">Arithmetic Logic Unit (ALU)</a></li>
      <li>Next: <a href="mar.html" title="next chapter">Memory Address Register (MAR)</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Daniel Grießhaber.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/logical-blocks/ram.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>